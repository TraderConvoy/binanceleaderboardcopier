(function(b){b.fn.BindMENU=function(a){b("ul",this).addClass("submenu");if(b.browser.msie&&parseInt(b.browser.version,10)==7){b("ul.submenu",this).before('<div style="height: 0px; line-height: 0px; clear: both; overflow: hidden; font-size:0px; position:fixed" />')}if((a.Orientation.toLowerCase()=="horizontal"&&a.MenuStyle.toLowerCase()=="accordion")||a.MenuStyle.toLowerCase()=="defaultmenu"){b("ul.submenu",this).hide().css("position","absolute");var e=b(this);b("li",this).hover(function(){if(b(this).find("ul").is(".submenu")){var c=b(this).find("ul.submenu");if(a.Orientation.toLowerCase()=="vertical"||b(this).parent().is(".submenu")){c.css("left",c.parent().outerWidth(true));b(this).css("position","relative");var j=b(this).children("a").offset().top-b(this).offset().top;j=j+b(this).children("a").outerHeight(true);c.css("margin-top","-"+j+"px");c.css("margin-left","0px");var k=b(this).offset().left+b(this).outerWidth(true);if(k+c.outerWidth()>b(window).width()){c.css("left","0px").css("left","-"+c.outerWidth()+"px")}}else{var d=b(this).children("a,span").offset().left-b(this).offset().left;if(d>0){c.css("margin-left","-"+d+"px")}var l=b(this).children("a,span").offset().top-b(this).offset().top;if(l>0){c.css("margin-top",l+"px")}}}b("ul:first",this).slideDown("fast")},function(){b("ul:first",this).hide()})}if(a.Orientation.toLowerCase()=="vertical"&&a.MenuStyle.toLowerCase()=="accordion"){b(this).closest("#MenuV").addClass("accordion");b(this).children("li").children("ul").hide();b(this).children("li").hover(function(c){c.stopPropagation();if(b(this).children("ul").is(".submenu")){b(this).children("ul").find("ul").show();b(this).children("ul").slideDown("fast")}},function(c){c.stopPropagation();if(b(this).children("ul").is(".submenu")){b(this).children("ul").slideUp("fast")}})}if(a.MenuStyle.toLowerCase()=="megamenu"){b(this).parent().addClass("megamenu");b(".submenu",this).css("display","block");var f=b(this).parent().offset().left+b(this).parent().outerWidth(true);b(this).children("li").children("ul").each(function(){if(b(this).children("li").children("ul").is(".submenu")){b(this).parent().addClass("mega");var d=b(this).outerWidth()-b(this).width();var c="0";b(this).css("position","absolute");b(".submenu",this).css("display","block");b(this).children("li").css("display","block").css("float","left");b(this).children("li").each(function(){d+=b(this).outerWidth(true);if(b(this).outerHeight(true)>c){c=b(this).outerHeight(true)}});b(this).children("li").css("min-height",c+"px");b(this).css("min-width",d)}});b(this).children("li").children("ul").hide();b(this).children("li").hover(function(){if(b(this).children("ul").is(".submenu")){var d=b(this).children("ul.submenu");d.css("position","absolute");if(a.Orientation.toLowerCase()=="vertical"){d.css("left",d.parent().outerWidth(true));b(this).css("position","relative");var l=b(this).children("a").offset().top-b(this).offset().top;l=l+b(this).children("a").outerHeight(true);d.css("margin-top","-"+l+"px");d.css("margin-left","0px");var m=b(this).offset().left+b(this).outerWidth(true);if(m+d.outerWidth()>b(window).width()){d.css("left","0px").css("left","-"+d.outerWidth()+"px")}}else{var k=b(this).find("a,span").offset().left-b(this).offset().left;if(k>0){d.css("margin-left","-"+k+"px")}var n=b(this).find("a,span").offset().top-b(this).offset().top;if(n>0){d.css("margin-top",n+"px")}if(a.Orientation.toLowerCase()=="horizontal"){var c=b(this).offset().left+d.outerWidth();if(f<c){var l=c-f;d.css("margin-left",k-l+"px")}}}}b("ul:first",this).slideDown("fast")},function(){b("ul:first",this).hide()})}}})(jQuery);